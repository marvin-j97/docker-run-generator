import{r as e,a as l,c as a,d as t,b as o,e as n,t as r,F as i,o as d,w as u,f as s,g as m,h as c,i as p,T as v,j as h,k as y,l as g,m as f,v as V,n as b,p as k}from"./vendor.3272022b.js";!function(e=".",l="__import__"){try{self[l]=new Function("u","return import(u)")}catch(a){const t=new URL(e,location),o=e=>{URL.revokeObjectURL(e.src),e.remove()};self[l]=e=>new Promise(((a,n)=>{const r=new URL(e,t);if(self[l].moduleMap[r])return a(self[l].moduleMap[r]);const i=new Blob([`import * as m from '${r}';`,`${l}.moduleMap['${r}']=m;`],{type:"text/javascript"}),d=Object.assign(document.createElement("script"),{type:"module",src:URL.createObjectURL(i),onerror(){n(new Error(`Failed to import: ${e}`)),o(d)},onload(){a(self[l].moduleMap[r]),o(d)}});document.head.appendChild(d)})),self[l].moduleMap={}}}("/docker-run-generator/assets/");const x={detach:{flag:["-d","--detach"]},interactive:{flag:["-i","--interactive"]},tty:{flag:["-t","--tty"]},name:{flag:["--name","--name"]},env:{flag:["-e","--env"]},rm:{flag:["--rm","--rm"]},attach:{flag:["-a","--attach"]},privileged:{flag:["--privileged","--privileged"]},restart:{flag:["--restart","--restart"]},pull:{flag:["--pull","--pull"]},workDir:{flag:["-w","--workdir"]},readOnly:{flag:["--read-only","--read-only"]},disableHealthcheck:{flag:["--no-healthcheck","--no-healthcheck"]},disableOOMKiller:{flag:["--oom-kill-disable","--oom-kill-disable"]},volume:{flag:["-v","--volume"]},port:{flag:["-p","--expose"]},mount:{flag:["--mount","--mount"]}};function w(e,l,a=!1){return l?x[e].flag[+a]:""}function C(e,l,a=!1){return l?`${x[e].flag[+a]} ${O(l)}`:""}function U(e){return e.filter(Boolean).join(" ")}function L(e,l,a=!1){return U(l.filter(Boolean).map((l=>`${x[e].flag[+a]} ${l}`)))}function O(e){const l=e.trim();return l.includes(" ")&&!l.includes('"')?`"${l}"`:l}function S({key:e,value:l}){return`${e}=${O(l)}`}const R=e("");let P=null;function M(e,l=2500){R.value=e,P&&clearTimeout(P),P=setTimeout((()=>{R.value=""}),l)}var E=t({props:{command:{type:String,required:!0},hasError:{type:Boolean,required:!0},copyCommand:{type:Function,required:!0},copyShareLink:{type:Function,required:!0}},setup(){}});const $=n("div",{class:"label",style:{"margin-bottom":"10px"}},"Result",-1),I={class:"code-block",style:{display:"flex","align-items":"center","margin-bottom":"10px"}},_=n("div",{style:{"flex-grow":"1"}},null,-1),q=n("svg",{class:"icon hover",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[n("path",{"fill-rule":"evenodd",d:"M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 00-1.414 1.414 4 4 0 005.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 00-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z","clip-rule":"evenodd"})],-1);E.render=function(e,l,a,t,u,s){return d(),o(i,null,[$,n("div",I,[n("div",{class:"hover",onClick:l[1]||(l[1]=()=>e.copyCommand())},r(e.hasError?"Could not generate output: invalid inputs":e.command),1),_,n("div",{style:{"margin-left":"10px",height:"24px"},onClick:l[2]||(l[2]=()=>e.copyShareLink())},[q])])],64)};var B=t({name:"CommandGenerator",components:{CommandResult:E},setup:()=>function(){const t=e(!1);let o=l({imageId:"my-image",detach:!1,interactive:!1,tty:!1,readOnly:!1,autoRemoveContainer:!1,privileged:!1,disableHealthcheck:!1,disableOOMKiller:!1,containerName:"",restartPolicy:"",pullPolicy:"",workDir:"",containerCommand:"",mount:"",envVars:[],volumes:[],ports:[]});function n(){const e=btoa(JSON.stringify(o));return`${window.location.href}?q=${e}`}const r=new URLSearchParams(window.location.search).get("q");if(r)try{o=l(Object.assign(o,JSON.parse(atob(r)))),console.log("Loaded state from URL",o)}catch(v){console.warn("Could not load initial state"),window.history.replaceState({},document.title,".")}const i=a((()=>U([w("detach",o.detach,t.value),w("interactive",o.interactive,t.value),w("tty",o.tty,t.value),w("readOnly",o.readOnly,t.value),w("rm",o.autoRemoveContainer,t.value),w("privileged",o.privileged,t.value),w("disableHealthcheck",o.disableHealthcheck,t.value),w("disableOOMKiller",o.disableOOMKiller,t.value),C("name",o.containerName,t.value),C("mount",o.mount,t.value),C("restart",o.restartPolicy,t.value),C("pull",o.pullPolicy,t.value),C("workDir",o.workDir,t.value),L("env",o.envVars.filter((({value:e})=>e)).map(S),t.value),L("volume",o.volumes.filter((({value:e})=>e)).map((({value:e})=>O(e))),t.value),L("port",o.ports.filter((({value:e})=>e)).map((({value:e})=>O(e))),t.value)]))),d=a((()=>U(["docker","run",i.value,o.imageId.trim().replace(/ +/g,"-"),o.containerCommand.trim()])));async function u(e){return navigator.clipboard.writeText(e)}const s=a((()=>!!o.imageId.length)),m=a((()=>["no","unless-stopped","always","on-failure",""].includes(o.restartPolicy))),c=a((()=>["always","missing","never",""].includes(o.pullPolicy))),p=a((()=>!(s.value&&m.value&&c.value)));return{state:o,useLongFlags:t,copyCommand:async function(){await u(d.value),M("Command copied!")},getShareLink:n,copyShareLink:async function(){await u(n()),M("URL copied!")},command:d,hasError:p,isValidImage:s,isValidRestartPolicy:m,isValidPullPolicy:c}}()});const F=n("hr",null,null,-1),T=n("hr",null,null,-1),j=n("hr",null,null,-1),D=n("hr",null,null,-1),K={style:{display:"flex","align-items":"center","margin-bottom":"20px"}},H=n("div",{class:"label",style:{"margin-right":"15px"}},"Volumes",-1),N=c(" Add "),z={style:{display:"flex","align-items":"center",width:"100%","margin-bottom":"20px"}},A=n("div",{style:{"flex-grow":"1"}},null,-1),G=c(" Remove "),J=n("hr",null,null,-1),W={style:{display:"flex","align-items":"center","margin-bottom":"20px"}},Y=n("div",{class:"label",style:{"margin-right":"15px"}},"Ports",-1),Q=c(" Add "),X={style:{display:"flex","align-items":"center",width:"100%","margin-bottom":"20px"}},Z=n("div",{style:{"flex-grow":"1"}},null,-1),ee=c(" Remove "),le=n("hr",null,null,-1),ae={style:{display:"flex","align-items":"center","margin-bottom":"20px"}},te=n("div",{class:"label",style:{"margin-right":"15px"}}," Environment variables ",-1),oe=c("Add"),ne={style:{display:"flex","align-items":"center",width:"100%","margin-bottom":"20px"}},re=n("div",{style:{"flex-grow":"1"}},null,-1),ie=c(" Remove "),de=n("hr",null,null,-1);B.render=function(e,l,a,t,r,c){const p=m("command-result"),v=m("checkbox"),h=m("text-field"),y=m("my-button");return d(),o("div",null,[n(p,{command:e.command,hasError:e.hasError,copyCommand:e.copyCommand,copyShareLink:e.copyShareLink},null,8,["command","hasError","copyCommand","copyShareLink"]),n(v,{modelValue:e.useLongFlags,"onUpdate:modelValue":l[1]||(l[1]=l=>e.useLongFlags=l),label:"Use long flags"},null,8,["modelValue"]),F,n(h,{modelValue:e.state.imageId,"onUpdate:modelValue":l[2]||(l[2]=l=>e.state.imageId=l),placeholder:"Image",style:{width:"100%","margin-bottom":"20px"},error:e.isValidImage?"":"Invalid image"},null,8,["modelValue","error"]),T,n("div",null,[n(v,{modelValue:e.state.detach,"onUpdate:modelValue":l[3]||(l[3]=l=>e.state.detach=l),label:"Detach"},null,8,["modelValue"]),n(v,{modelValue:e.state.disableHealthcheck,"onUpdate:modelValue":l[4]||(l[4]=l=>e.state.disableHealthcheck=l),label:"Disable health check"},null,8,["modelValue"]),n(v,{modelValue:e.state.disableOOMKiller,"onUpdate:modelValue":l[5]||(l[5]=l=>e.state.disableOOMKiller=l),label:"Disable OOM Killer"},null,8,["modelValue"]),n(v,{modelValue:e.state.interactive,"onUpdate:modelValue":l[6]||(l[6]=l=>e.state.interactive=l),label:"Interactive"},null,8,["modelValue"]),n(v,{modelValue:e.state.privileged,"onUpdate:modelValue":l[7]||(l[7]=l=>e.state.privileged=l),label:"Privileged"},null,8,["modelValue"]),n(v,{modelValue:e.state.readOnly,"onUpdate:modelValue":l[8]||(l[8]=l=>e.state.readOnly=l),label:"Read-only"},null,8,["modelValue"]),n(v,{modelValue:e.state.autoRemoveContainer,"onUpdate:modelValue":l[9]||(l[9]=l=>e.state.autoRemoveContainer=l),label:"Remove the container when it exits"},null,8,["modelValue"]),n(v,{modelValue:e.state.tty,"onUpdate:modelValue":l[10]||(l[10]=l=>e.state.tty=l),label:"TTY"},null,8,["modelValue"])]),j,n("div",null,[n(h,{modelValue:e.state.containerCommand,"onUpdate:modelValue":l[11]||(l[11]=l=>e.state.containerCommand=l),placeholder:"Command (optional)",style:{width:"100%"}},null,8,["modelValue"]),n(h,{modelValue:e.state.containerName,"onUpdate:modelValue":l[12]||(l[12]=l=>e.state.containerName=l),placeholder:"Container name",label:"Container name (optional)",style:{width:"100%","margin-bottom":"20px"}},null,8,["modelValue"]),n(h,{modelValue:e.state.mount,"onUpdate:modelValue":l[13]||(l[13]=l=>e.state.mount=l),placeholder:"Mount",label:"Mount (optional)",style:{width:"100%","margin-bottom":"20px"}},null,8,["modelValue"]),n(h,{modelValue:e.state.pullPolicy,"onUpdate:modelValue":l[14]||(l[14]=l=>e.state.pullPolicy=l),placeholder:"Pull policy",label:"Pull policy (optional)",style:{width:"100%","margin-bottom":"20px"},hint:"Values: always, missing, never",error:e.isValidPullPolicy?"":"Invalid pull policy"},null,8,["modelValue","error"]),n(h,{modelValue:e.state.restartPolicy,"onUpdate:modelValue":l[15]||(l[15]=l=>e.state.restartPolicy=l),placeholder:"Restart policy",label:"Restart policy (optional)",style:{width:"100%","margin-bottom":"20px"},hint:"Values: no, unless-stopped, always, on-failure[:max-retries]",error:e.isValidRestartPolicy?"":"Invalid restart policy"},null,8,["modelValue","error"]),n(h,{modelValue:e.state.workDir,"onUpdate:modelValue":l[16]||(l[16]=l=>e.state.workDir=l),placeholder:"Working directory (optional)",label:"Working directory (optional)",style:{width:"100%","margin-bottom":"20px"}},null,8,["modelValue"])]),D,n("div",null,[n("div",K,[H,n(y,{color:"#4055ff",style:{color:"#fafafa"},onClick:l[17]||(l[17]=l=>e.state.volumes.push({value:"host:container",id:Math.random().toString(36)}))},{default:u((()=>[N])),_:1})]),(d(!0),o(i,null,s(e.state.volumes,((l,a)=>(d(),o("div",{key:l.id},[n("div",z,[n(h,{"hide-label":"",modelValue:e.state.volumes[a].value,"onUpdate:modelValue":l=>e.state.volumes[a].value=l,placeholder:"Value",style:{"margin-right":"10px"}},null,8,["modelValue","onUpdate:modelValue"]),A,n(y,{color:"#ff3f55",onClick:l=>e.state.volumes.splice(a,1)},{default:u((()=>[G])),_:2},1032,["onClick"])])])))),128))]),J,n("div",null,[n("div",W,[Y,n(y,{color:"#4055ff",style:{color:"#fafafa"},onClick:l[18]||(l[18]=l=>e.state.ports.push({value:"host:container",id:Math.random().toString(36)}))},{default:u((()=>[Q])),_:1})]),(d(!0),o(i,null,s(e.state.ports,((l,a)=>(d(),o("div",{key:l.id},[n("div",X,[n(h,{"hide-label":"",modelValue:e.state.ports[a].value,"onUpdate:modelValue":l=>e.state.ports[a].value=l,placeholder:"Value",style:{"margin-right":"10px"}},null,8,["modelValue","onUpdate:modelValue"]),Z,n(y,{color:"#ff3f55",onClick:l=>e.state.ports.splice(a,1)},{default:u((()=>[ee])),_:2},1032,["onClick"])])])))),128))]),le,n("div",null,[n("div",ae,[te,n(y,{color:"#4055ff",style:{color:"#fafafa"},onClick:l[19]||(l[19]=l=>e.state.envVars.push({key:"",value:"",id:Math.random().toString(36)}))},{default:u((()=>[oe])),_:1})]),(d(!0),o(i,null,s(e.state.envVars,((l,a)=>(d(),o("div",{key:l.id},[n("div",ne,[n(h,{"hide-label":"",modelValue:l.key,"onUpdate:modelValue":e=>l.key=e,placeholder:"Key",style:{"margin-right":"10px"}},null,8,["modelValue","onUpdate:modelValue"]),n(h,{"hide-label":"",modelValue:l.value,"onUpdate:modelValue":e=>l.value=e,placeholder:"Value",style:{"margin-right":"10px"}},null,8,["modelValue","onUpdate:modelValue"]),re,n(y,{color:"#ff3f55",onClick:l=>e.state.envVars.splice(a,1)},{default:u((()=>[ie])),_:2},1032,["onClick"])])])))),128))]),de,n(p,{command:e.command,hasError:e.hasError,copyCommand:e.copyCommand,copyShareLink:e.copyShareLink},null,8,["command","hasError","copyCommand","copyShareLink"]),n(v,{modelValue:e.useLongFlags,"onUpdate:modelValue":l[20]||(l[20]=l=>e.useLongFlags=l),label:"Use long flags"},null,8,["modelValue"])])};var ue=t({setup:()=>({notificationText:R})});const se={key:0,class:"notification shadow"},me=n("div",{style:{width:"32px",height:"32px","margin-right":"10px"}},[n("svg",{style:{width:"32px",height:"32px"},viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[n("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"})])],-1);ue.render=function(e,l,a,t,i,s){return d(),o(v,{name:"slide-fade"},{default:u((()=>[e.notificationText?(d(),o("div",se,[me,n("div",null,r(e.notificationText),1)])):p("",!0)])),_:1})};var ce=t({name:"App",components:{CommandGenerator:B,Notification:ue},setup(){}});const pe=n("header",null,[n("h4",{class:"title"},[n("a",{href:"https://docs.docker.com/engine/reference/commandline/run",target:"_blank",class:"hover"},"docker run"),c(" command generator ")])],-1),ve={style:{width:"550px"}},he=n("footer",null,[n("div",null,[n("a",{href:"https://github.com/marvin-j97/docker-run-generator",target:"_blank",class:"hover"}," GitHub ")])],-1);ce.render=function(e,l,a,t,r,u){const s=m("command-generator"),c=m("notification");return d(),o(i,null,[pe,n("main",null,[n("div",ve,[n(s,{style:{"margin-bottom":"40px"}})])]),he,n(c)],64)};var ye=t({props:{color:{required:!1,type:String,default:"#505050"}},setup(e){const{color:l}=h(e);return{style:a((()=>({"background-color":l.value})))}}});ye.render=function(e,l,a,t,n,r){return d(),o("button",{class:"button hover",style:e.style},[y(e.$slots,"default")],4)};var ge=t({props:{modelValue:Boolean,label:String},setup(l,{emit:a}){const{modelValue:t}=h(l),o=e(t.value);return g(t,(e=>o.value=e)),{innerValue:o,update:function(e){a("update:modelValue",e)}}}});ge.render=function(e,l,a,t,i,u){return d(),o("div",{style:{display:"flex","align-items":"center","margin-bottom":"8px"},onClick:l[2]||(l[2]=l=>e.update(!e.modelValue))},[f(n("input",{style:{"margin-right":"8px"},type:"checkbox","onUpdate:modelValue":l[1]||(l[1]=l=>e.innerValue=l)},null,512),[[V,e.innerValue]]),n("label",null,r(e.label),1)])};var fe=t({props:{modelValue:{required:!0,type:String},label:{required:!1,type:String},hint:{required:!1,type:String},error:{required:!1,type:String},hideLabel:{required:!1,type:Boolean,default:!1},placeholder:String},setup(l,{emit:a}){const{modelValue:t}=h(l),o=e(t.value);function n(e){a("update:modelValue",e)}return g(t,(e=>o.value=e)),{innerValue:o,update:n,updateByEvent:function(e){n(e.target.value)}}}});const Ve={key:0,class:"label",style:{"margin-bottom":"5px",position:"relative"}},be={key:1,class:"error-message"},ke={key:2,class:"hint"};fe.render=function(e,l,a,t,i,u){return d(),o("div",null,[e.hideLabel?p("",!0):(d(),o("div",Ve,r(e.label||e.placeholder),1)),f(n("input",{class:["code-block",{error:e.error}],type:"text","onUpdate:modelValue":l[1]||(l[1]=l=>e.innerValue=l),placeholder:e.placeholder,onInput:l[2]||(l[2]=(...l)=>e.updateByEvent&&e.updateByEvent(...l)),style:{width:"100%"}},null,42,["placeholder"]),[[b,e.innerValue]]),e.error?(d(),o("div",be,r(e.error),1)):e.hint?(d(),o("div",ke,r(e.hint),1)):p("",!0)])};const xe=k(ce);xe.component("MyButton",ye),xe.component("Checkbox",ge),xe.component("TextField",fe),xe.mount("#app");
